(import "lib/file.scm")
(import "lib/wget.scm")
(import "lib/string.scm")
(import "lib/parse.scm")

(define load-string
  (lambda (string)
    (eval (parse-scheme string))))

(define load-file
  (lambda (filename
	   :handle-sys-error (lambda () #f)
	   :handle-wrong-arguments (lambda () #f))
    (import-string
     (input-lines
      (open-in filename
	       :handle-sys-error handle-sys-error)))))

(define load-url
  (lambda (scheme host port path file)
    (import-string (wget scheme host port (concat "" (list path file))))))

(define load-url-with-cache
  (lambda (scheme host port path file :cache-path "lib/")
    (catch sys-error
	   (import-file (concat "" (list cache-path file))
		      :handle-sys-error
		      (lambda () (import-url scheme host port path file))))))

  
