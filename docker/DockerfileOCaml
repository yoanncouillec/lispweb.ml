FROM ocaml/opam:latest
ARG DEBIAN_FRONTEND=noninteractive
RUN sudo apt install -y libssl-dev pkg-config
RUN sudo apt install -y libcurl4-gnutls-dev
RUN sudo apt install -y m4
RUN sudo apt install -y menhir
RUN sudo apt install -y ocamlbuild
RUN opam install -y core
RUN opam install -y ANSITerminal
RUN opam install -y ocurl
RUN opam install -y ssl
RUN opam install -y ISO8601
RUN opam install -y ocamlfind
ENV PATH="/root/.opam/ocaml-base-compiler.4.08.1/bin:${PATH}"
ENV OPAM_SWITCH_PREFIX='/root/.opam/ocaml-base-compiler.4.08.1'
ENV CAML_LD_LIBRARY_PATH='/root/.opam/ocaml-base-compiler.4.08.1/lib/stublibs:/root/.opam/ocaml-base-compiler.4.08.1/lib/ocaml/stublibs:/root/.opam/ocaml-base-compiler.4.08.1/lib/ocaml'
ENV OCAML_TOPLEVEL_PATH='/root/.opam/ocaml-base-compiler.4.08.1/lib/toplevel'
ENV MANPATH=':/root/.opam/ocaml-base-compiler.4.08.1/man'
